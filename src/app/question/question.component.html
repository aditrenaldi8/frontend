
<mat-card class="question mat-elevation-z4"> 
    <div style="margin-bottom:10px">
        <span>Add Question</span>
    </div>
    <mat-divider></mat-divider>

    <mat-card-content>
        <form [formGroup]="form" class="example-container">

            <mat-grid-list cols="12" rowHeight="100px">
                <mat-grid-tile
                    [colspan]="4"
                    [rowspan]="1"
                >
                    <mat-form-field>
                        <input matInput placeholder="Package Name" formControlName="name">
                        <mat-error *ngIf="form.get('name').invalid"> You must enter a value </mat-error>
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile
                    [colspan]="4"
                    [rowspan]="1"
                >
                    <mat-form-field>
                        <input matInput placeholder="Time (in minute)" formControlName="time">  
                        <mat-error *ngIf="form.get('time').invalid"> You must enter a value </mat-error>
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile
                    [colspan]="4"
                    [rowspan]="1"
                >
                    <mat-form-field>
                        <input matInput placeholder="Category" formControlName="category">  
                        <mat-error *ngIf="form.get('category').invalid"> You must enter a value </mat-error>
                    </mat-form-field>
                </mat-grid-tile>

            </mat-grid-list>

            <div formArrayName="question"> 
                <mat-accordion *ngFor="let item of formArray.controls, let i= index" [formGroupName]="i">
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Question {{ i + 1 }}
                            </mat-panel-title>
                            <mat-panel-description>
                                Fill this field
                            </mat-panel-description>
                        </mat-expansion-panel-header>
                    
                        <mat-grid-list cols="12" rowHeight="100px" style="margin-left:20px">
                            <mat-grid-tile [colspan]="12" [rowspan]="1">
                                <mat-form-field>
                                    <textarea matInput placeholder="Question" formControlName="question"></textarea>
                                    <mat-error *ngIf="item.controls.question.invalid"> You must enter a value </mat-error>
                                </mat-form-field>
                            </mat-grid-tile>

                            <mat-grid-tile [colspan]="3" [rowspan]="1">
                                <mat-form-field>
                                    <input matInput placeholder="Answer 1" formControlName="answer1">
                                    <mat-error *ngIf="item.controls.answer1.invalid"> You must enter a value </mat-error>  
                                </mat-form-field>
                            </mat-grid-tile>

                            <mat-grid-tile [colspan]="3" [rowspan]="1">
                                <mat-form-field>
                                    <input matInput placeholder="Answer 2" formControlName="answer2">  
                                    <mat-error *ngIf="item.controls.answer2.invalid"> You must enter a value </mat-error>
                                </mat-form-field>
                            </mat-grid-tile>

                            <mat-grid-tile [colspan]="3" [rowspan]="1">
                                <mat-form-field>
                                    <input matInput placeholder="Answer 3" formControlName="answer3">  
                                    <mat-error *ngIf="item.controls.answer3.invalid"> You must enter a value </mat-error>
                                </mat-form-field>
                            </mat-grid-tile>

                            <mat-grid-tile [colspan]="3" [rowspan]="1">
                                <mat-form-field>
                                    <input matInput placeholder="Answer 4" formControlName="answer4">  
                                    <mat-error *ngIf="item.controls.answer4.invalid"> You must enter a value </mat-error>
                                </mat-form-field>
                            </mat-grid-tile>

                            <mat-grid-tile [colspan]="3" [rowspan]="1">
                                <mat-form-field>
                                    <input matInput placeholder="Right Answer" formControlName="right">
                                    <mat-error *ngIf="item.controls.right.invalid"> You must enter a value </mat-error>  
                                </mat-form-field>
                            </mat-grid-tile>


                        </mat-grid-list>

                    </mat-expansion-panel>
                </mat-accordion>
            </div>

        </form>

    </mat-card-content>
    <mat-card-actions style="text-align: right;">
        <a routerLink="/home">
            <button mat-raised-button color="primary" (click)="submit()">Submit</button>
        </a>
    </mat-card-actions>
</mat-card>
